apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
  name: keda-service
  namespace: default
spec:
  scaleTargetRef:
    name: admin-server-deployment
  triggers:
  - type: prometheus
    metadata:
      serverAddress: "http://prometheus-server:9090"
      metricName: "http_requests_total"
      threshold: "1000"
      query: "sum(rate(http_requests_total[5m]))"
